package com.tap.Test;

import com.tap.Dao.OrderItemDao;
import com.tap.DaoImple.OrderItemImp;
import com.tap.modeal.OrderItem;

import java.util.List;

public class Test5 {
    public static void main(String[] args) {
        OrderItemDao dao = new OrderItemImp();

        // 1. Add an order item
        OrderItem item = new OrderItem();
        item.setOrderItemId(1);  // Change if already exists in DB
        item.setUserId(101);
        item.setMenuId(201);
        item.setName("Veg Biryani");
        item.setQuantity("2");
        item.setRating(4.6);
        item.setPrice(240.0);
        dao.addOrderItem(item);
        
        
        System.out.println("✅ Order item added.");

        // 2. Get the order item
        OrderItem fetched = dao.getOrderItem(1);
        if (fetched != null) {
            System.out.println("✅ Fetched item: " + fetched.getName() + " - " + fetched.getPrice());
        } else {
            System.out.println("❌ Order item not found.");
        }

        // 3. Update the order item
        fetched.setName("Chicken Biryani");
        fetched.setPrice(270.0);
        dao.updateOrderItem(fetched);
        System.out.println("✅ Order item updated.");

        // 4. Get all order items
        List<OrderItem> allItems = dao.getAll();
        System.out.println("✅ All Order Items:");
        for (OrderItem o : allItems) {
            System.out.println(o.getOrderItemId() + ": " + o.getName() + " - ₹" + o.getPrice());
        }

        // 5. Delete the order item
        dao.deleteOrderItem(1);
        System.out.println("✅ Order item deleted.");
    }
}
